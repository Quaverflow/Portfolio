@page
@model Portfolio.Pages.Food.IngredientsModel
@{
    ViewData["Title"] = "Ingredients";

}

<div class="image-ingredients full-width">
    <div class="layer  vcenter-item">
        <div class="col-md-12 row text-center text-light">
            <div class="col-md-12 text-light">
                <h2  class="display-4">SEARCH FOR INGREDIENTS IN THE DATABASE</h2>
            </div>
        </div>
    </div>
</div>

<div class="mt-3">
    @if (Model.Message != null)
    {
        <div class="alert alert-info">@Model.Message</div>
    }
    <div class="row">
        <div class="col-md-12 ">
            <h2>@Model.Title</h2>
            <small>Results: @Model.Results</small>
            <hr class="muted" />
        </div>
    </div>
    <div class="row">
        <div class="col-md-2 ">
            <div class="row">
                <div class="col-md-12 mb-2">
                    Search subgroup
                </div>
            </div>
            <form method="get">

                @for (var i = 0; i < Model.Groups.Count; i++)
                {
                    <div class="row ml-1">
                        <a class="list-group-item border-0 root-group" href="#item-@i" data-toggle="collapse">
                            <i class="fa fa-chevron-right small"></i>
                            @Model.Groups[i].Group
                        </a>
                    </div>
                    <div class="list-group collapse" id="item-@i">
                        @for (var ii = 0; ii < Model.Groups[i].IngredientSubGroups.Count; ii++)
                        {
                            <input type="submit" class="list-group-item text-left sub-group"
                                   asp-for="SearchSubgroup"
                                   value="@Model.Groups[i].IngredientSubGroups[ii].SubGroup" />
                        }
                    </div>
                }
            </form>
        </div>
        <div class="col-md-10 ">
            <div class="row">
                <div class="col-md-12 ">
                    <form method="get">
                        <div class="form-group">
                            <div class="input-group">
                                <input type="search" class="form-control" asp-for="SearchIngredient" />
                                <span class="input-group-btn">
                                    <button class="btn btn-dark">
                                        Search
                                        <i class="fas fa-search"> </i>
                                    </button>
                                </span>
                            </div>
                        </div>
                    </form>
                    <hr class="muted" />
                </div>
            </div>

            @foreach (var ingredient in Model.Ingredients)
            {
                <div class="row">
                    <div class="col-md-12">
                        <div class="row">
                            <div class="col h4 text-center">
                                @ingredient.Name
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-2">
                        <div class="h5">
                            Group: @ingredient.IngredientGroup.Group
                        </div>
                        <div class="h6">
                            Subgroup: @ingredient.IngredientSubGroup.SubGroup
                        </div>
                        <img class="img-fluid rounded" src="~/image/ingredients/@ingredient.ImageFileName" />
                    </div>
                    <div class="col-md-10">
                        <h5>
                            @if (!string.IsNullOrEmpty(ingredient.ScientificName))
                            {
                                <span>Scientific Name: @ingredient.ScientificName</span>
                            }
                        </h5>
                        <p>
                            @ingredient.Description
                        </p>
                    </div>
                </div>
                <hr class="muted" />
            }
        </div>
    </div>
</div>
@section scripts{

}
